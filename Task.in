MOV 10 R5


L0:
OUT FULLY_CHARGED
JMP START

L1:
OUT BATTERY_0
JMP START

L2:
HLT

L3:
ADD 1 R2
CMP R2 20
JNE L3
OUT OBSTACLE!!
SUB 1 R5
CMP R5 0
JEQ L1
JMP START

L4:
SUB 1 R3
CMP R3 0
JNE L4
OUT OBSTACLE!!
SUB 1 R5
CMP R5 0
JEQ L1
JMP START

L5:
ADD 1 R6
CMP R6 10
JNE L5
OUT MAX_LIMIT!!
SUB 1 R5
CMP R5 0
JEQ L1
JMP START

L6:
SUB 1 R6
CMP R6 0
JNE L6
OUT MAX_LIMIT!!
SUB 1 R5
CMP R5 0
JEQ L1
JMP START

L7:
IN R8
SUB R6 R8
CMP R8 0
JLT L6
MOV R8 R6
SUB 1 R5
CMP R5 0
JEQ L1
JMP START


START:
MOV 0 R2
MOV 20 R3
MOV 0 R4
MOV 0 R7
MOV 0 R8
MOV 0 R9
MOV 0 R10
IN R8
CMP R8 1
JEQ	L2
CMP R8 2
JEQ FWD
CMP R8 3
JEQ BKD
CMP R8 4
JEQ ROTC
CMP R8 6
JEQ HUP
CMP R8 7
JEQ HDN
CMP R8 5
JEQ CHARGE

FWD:
CMP R5 0
JEQ L1
IN R8
ADD R2 R8
CMP R8 20
JGT L3
MOV R8 R2
SUB 1 R5
CMP R5 0
JEQ L1
JMP START

BKD:
CMP R5 0
JEQ L1
IN R8
SUB R3 R8
CMP R8 0
JLT L4
MOV R8 R3
SUB 1 R5
CMP R5 0
JEQ L1
JMP START

ROTC:
CMP R5 0
JEQ L1
IN R8
ADD R8 R4
SUB 1 R5
CMP R5 0
JEQ L1
JMP START

HUP:
CMP R5 0
JEQ L1
IN R8
ADD R6 R8
CMP R8 10
JGT L5
MOV R8 R6
SUB 1 R5
CMP R5 0
JEQ L1
JMP START

HDN:
CMP R5 0
JEQ L1
CMP R6 0
JGT L7

CHARGE:
CMP R5 10
JEQ L0
ADD 1 R5
CMP R5 10
JEQ L0
JMP CHARGE